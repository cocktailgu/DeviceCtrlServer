function WriteTxt(filepath,type,hostname,status,datetime){
    var fs = require('fs');
    var fileIsExists = fs.existsSync(filepath+'/profiles.json');
    if (fileIsExists == false){
        console.log(datetime+":打开,"+ filepath+"/profiles.json文件失败");
        return 0;
    } else {
        console.log(datetime+":打开,"+ filepath+"/profiles.json文件成功");
    }
    var profiledata = fs.readFileSync(filepath+'/profiles.json','utf8');
    profiledata = JSON.parse(profiledata);
    var typejson = profiledata[type];
    if (typejson==undefined){
        console.log(datetime+":type参数无效");
        return 0;
    } 
    fileIsExists = fs.existsSync(filepath+'/'+typejson['profile']);
    if (fileIsExists == false){
        console.log(datetime+":打开,"+ filepath+'/'+typejson['profile']+"文件失败");
        return 0;
    } else {
        console.log(datetime+":打开,"+ filepath+'/'+typejson['profile']+"文件成功");
    }
    var hostdata = fs.readFileSync(filepath+'/'+typejson['profile'],'utf8');
    hostdata = JSON.parse(hostdata);
    var host = hostdata[hostname];
    if (host==undefined){
        console.log(datetime+":hostname参数无效");
        return 0;
    }
    fs.writeFile(filepath+'/'+host['profile'],status);
    return 1;
}

exports.WriteTxt=WriteTxt;